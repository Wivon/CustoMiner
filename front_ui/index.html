<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CustoMiner</title>

    <!-- links -->
    <link rel="stylesheet" href="assets/style.css">
    <script src="assets/app.js" defer></script>
    <script src="assets/translator.js" defer></script>
    <script src="assets/gameDirectory.js" defer></script>
</head>

<body class="loading">

    <div class="loader">
        <div class="CustoMiner">
            <img src="assets/img/icons/CustoMinerICONx128.png">
            <h1>CustoMiner</h1>
        </div>

        <div class="animation">
            <span style="animation-delay: 0s;"></span>
            <span style="animation-delay: 0.2s;"></span>
            <span style="animation-delay: 0.4s;"></span>
            <span style="animation-delay: 0.6s;"></span>
            <span style="animation-delay: 0.8s;"></span>
            <span style="animation-delay: 1s;"></span>
        </div>
    </div>

    <div class="nav">
        <div class="left">
            <img src="assets/img/icons/CustoMinerICONx128.png" alt="appIcon">
            <div class="actions">
                <a href="#home" class="active" translation-id="nav.home">HOME</a>
                <a href="#settings" translation-id="nav.settings">SETTINGS</a>
                <a href="#library" translation-id="nav.library">LIBRARY</a>
                <div class="activeMenuIndicator"></div>
            </div>
        </div>
        <div class="right">
            <div class="minimizeBtn miniBtn" onclick="ipcRenderer.send('minimize')">-</div>
            <div class="minimizeBtn miniBtn" onclick="ipcRenderer.send('toggle-maximize')">
                <div class="square"></div>
            </div>
            <div class="closeBtn miniBtn" onclick="ipcRenderer.send('quit')">X</div>
        </div>
    </div>

    <div class="home active menu">
        <section id="gameDirectory">
            <h2 translation-id="menus.homeMenu.sections.gameDirectory.title">Game directory</h2>
            <div class="actions">
                <div class="input">
                    <div class="fileSelector">
                        <img src="assets/img/icons/files-folder.png" alt="browse">
                        <input type="text" onkeyup="saveInput(this)" id="gameDirectoryInput" name="gameDir"
                            placeholder="game directory path" class="rounded-left leftpad-icon">
                    </div>
                    <button class="rounded-right iconBTN">
                        <img src="assets/img/icons/next-transparent.png" alt="next" id="nextGameDirectory">
                    </button>
                </div>
                <button onclick="detectMinecraftDir()" class="secondary-btn" translation-id="menus.homeMenu.sections.gameDirectory.autoDetect">AUTO
                    DETECT</button>
            </div>
        </section>

        <section id="addNew" class="section-mt">
            <div class="container">
                <div class="card">
                    <img src="assets/img/banners/banner_shaderpacks_card.png" alt="shaderpacks banner">
                    <div class="add">
                        <p class="name" translation-id="menus.homeMenu.sections.addNew.cardsNames.shaderPacks">
                            Shaderpacks</p>
                        <button class="addBtn" translation-id="menus.homeMenu.sections.addNew.add">add</button>
                    </div>
                </div>
                <div class="card">
                    <img src="assets/img/banners/banner_resourcespacks_card.png" alt="resources packs banner">
                    <div class="add">
                        <p class="name" translation-id="menus.homeMenu.sections.addNew.cardsNames.resourcePacks">
                            Resources Packs</p>
                        <button class="addBtn" translation-id="menus.homeMenu.sections.addNew.add">add</button>
                    </div>
                </div>
                <div class="card">
                    <img src="assets/img/banners/banner_mods_card.png" alt="mods banner">
                    <div class="add">
                        <p class="name" translation-id="menus.homeMenu.sections.addNew.cardsNames.mods">Mods</p>
                        <button class="addBtn" translation-id="menus.homeMenu.sections.addNew.add">add</button>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <div class="settings menu" style="height: 0;">
        <div class="horizontal">
            <section id="locale">
                <h2 translation-id="menus.settingsMenu.sections.locale.title">Languages</h2>
                <div class="actions">
                    <div class="input">
                        <select name="locale" class="localeSelector rounded-left">
                            <option value="en">English</option>
                            <option value="fr">Français</option>
                            <option value="es">Español</option>
                        </select>
                        <button onclick="saveInput(document.querySelector('.localeSelector')); loadLocaleFile();"
                            class="rounded-right iconBTN">
                            <img src="assets/img/icons/next-transparent.png" alt="next" id="nextGameDirectory">
                        </button>
                    </div>
                    <button class="destructive-btn" translation-id="menus.settingsMenu.sections.locale.reset"
                        onclick="document.querySelector('.localeSelector').value=`en`; saveInput(document.querySelector('.localeSelector')); loadLocaleFile();">RESET</button>
                </div>
                <a href="#" translation-id="menus.settingsMenu.sections.locale.report">report translation</a>
            </section>
            <section>
                <h2>Developer Tools</h2>
                <label for="dev-shortcuts">Developer Shortcuts</label>
                <input type="checkbox" name="dev-shortcuts">
                <label for="reduced-motion">Reduced motion</label>
                <input type="checkbox" name="reduced-motion">
                <br>
                <button onclick="ipcRenderer.send('open-devtools')">open devtools</button>
            </section>
        </div>
        <section id="updates" class="section-mt">
            <h2 translation-id="menus.settingsMenu.sections.updates.title">Updates</h2>
            <progress class="downloadProgress"></progress>
            <button translation-id="menus.settingsMenu.sections.updates.check">CHECK</button>
        </section>
    </div>

    <div class="library menu" style="height: 0;">
        <button>OPEN SOMETHING</button>
    </div>

    <script>
        const { ipcRenderer, shell } = require('electron');

        window.onkeyup = (e) => {
            if (e.keyCode == 116) {
                window.location.reload()
                console.log('reloading...')
            }
            if (e.keyCode == 123) {
                ipcRenderer.send('open-devtools')
            }
        }
    </script>
</body>

</html>